
<script type="text/javascript" src="http://static.woopra.com/website/v4/js/jquery.1.7.2.js"></script>
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://ga-dev-tools.appspot.com/public/css/index.css" />
<script type="text/javascript" src="http://static.woopra.com/website/v4/js/jquery.1.7.2.js"></script>
<!DOCTYPE html>
<div class="page-content-wrapper">
    <div class="page-content">
   
        <div class="row margin-top-10">
            <div class="col-md-12 col-sm-12">
                <!-- BEGIN PORTLET-->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="panel-title">
                            <i class="icon-bar-chart theme-font hide"></i>
                            <span class="caption-subject theme-font bold">Google Analytics</span>
                            <span class="caption-helper hide">Just Select Stats...</span>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="row list-separated margin-bottom-30">
                            <div class="col-md-12 col-sm-12">
                                <div class="row">
                                    <div class="col-md-12">
                                        <link rel="stylesheet" href="https://ga-dev-tools.appspot.com/public/css/index.css" />   
                                        <style>
                                            td {
                                                font-size: 11px !important;
                                            }

                                            h1 {
                                                font-weight: bold;
                                            }
                                            body {
                                                font-family: "Noto Sans",sans-serif;
                                                font-size: 14px !important;
                                            }
                                        </style>
                                        <script>
                                            (function (i, s, o, g, r, a, m) {
                                                i['GoogleAnalyticsObject'] = r;
                                                i[r] = i[r] || function () {
                                                    (i[r].q = i[r].q || []).push(arguments)
                                                }, i[r].l = 1 * new Date();
                                                a = s.createElement(o),
                                                    m = s.getElementsByTagName(o)[0];
                                                a.async = 1;
                                                a.src = g;
                                                m.parentNode.insertBefore(a, m)
                                            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                                            ga('create', 'UA-65722895-1', 'auto');
                                            ga('set', 'encoding', 'UTF-16');
                                            ga('send', 'pageview');
                                        </script>

                                        <div class="row">
                                            <div class="col-md-6 col-md-offset-3">
                                                <div class="well text-center">
                                                    <h1>Site Traffic</h1>
                                                    <span>Sessions vs. Users - last 30 days</span>
                                                    <div>
                                                        <div id="chart-1-container"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <div id="embed-api-auth-container"></div>
                                                <div id="chart-container"></div>
                                                <div id="view-selector-container"></div>
                                            </div>
                                        </div>
                                        <script>
                                            (function (w, d, s, g, js, fs) {
                                                g = w.gapi || (w.gapi = {});
                                                g.analytics = {
                                                    q: [],
                                                    ready: function (f) {
                                                        this.q.push(f);
                                                    }
                                                };
                                                js = d.createElement(s);
                                                fs = d.getElementsByTagName(s)[0];
                                                js.src = 'https://apis.google.com/js/platform.js';
                                                fs.parentNode.insertBefore(js, fs);
                                                js.onload = function () {
                                                    g.load('analytics');
                                                };
                                            } (window, document, 'script'));
                                        </script>
                                        <script>
                                            gapi.analytics.ready(function () {

                                                gapi.analytics.auth.authorize({
                                                    container: 'embed-api-auth-container',
                                                    clientid: '888173214192-4ud91sm8b75j6pjoqr693s1s9oadolad.apps.googleusercontent.com'
                                                });

                                                var viewSelector = new gapi.analytics.ViewSelector({
                                                    container: 'view-selector-container'
                                                });

                                                // Render the view selector to the page.
                                                viewSelector.execute();

                                                var dataChart = new gapi.analytics.googleCharts.DataChart({
                                                    query: {
                                                        metrics: 'ga:newUsers,ga:percentNewSessions,ga:sessions,ga:bounceRate,ga:avgSessionDuration,ga:goalCompletionsAll,ga:goalValueAll,ga:goalConversionRateAll,ga:pageviewsPerSession',
                                                        dimensions: 'ga:date',
                                                        'start-date': '30daysAgo',
                                                        'end-date': 'yesterday'
                                                    },
                                                    chart: {
                                                        container: 'chart-container',
                                                        type: 'TABLE',
                                                        options: {
                                                            width: '100%'
                                                        }
                                                    }
                                                });

                                                var dataChart1 = new gapi.analytics.googleCharts.DataChart({
                                                    query: {
                                                        'start-date': '30daysAgo',
                                                        'end-date': 'yesterday',
                                                        'metrics': 'ga:sessions,ga:users',
                                                        'dimensions': 'ga:date'
                                                    },
                                                    chart: {
                                                        'container': 'chart-1-container',
                                                        'type': 'LINE',
                                                        'options': {
                                                            'width': '100%'
                                                        }
                                                    }
                                                });

                                                /**
                                                * Render the dataChart on the page whenever a new view is selected.
                                                */
                                                viewSelector.on('change', function (ids) {
                                                    dataChart.set({
                                                        query: {
                                                            ids: ids
                                                        }
                                                    }).execute();
                                                    setTimeout(function () {
                                                        var obj1 = $('#chart-container').children();
                                                        var obj2 = $(obj1).children();
                                                        var obj3 = $(obj2).children();
                                                        var obj4 = $(obj3).children();
                                                        var obj5 = $(obj4).children();
                                                        var obj6 = $(obj5).children()[3];
                                                        var obj7 = $(obj6).children()[1];
                                                        var line = $(obj7).children()[3];
                                                        var finalline = $(line).children()[0];
                                                        var forcircle = $(obj6).children()[2];
                                                        var circles = $(forcircle).children();
                                                        $(finalline).attr('stroke', '#058DC7');
                                                        $.each(circles, function (i, a) {
                                                            $(a).attr('fill', '#058DC7');
                                                        });
                                                    }, 3000);
                                                });

                                                viewSelector.on('change', function (ids) {
                                                    dataChart1.set({
                                                        query: {
                                                            ids: ids
                                                        }
                                                    }).execute();
                                                    setTimeout(function () {
                                                        var obj1 = $('#chart-container').children();
                                                        var obj2 = $(obj1).children();
                                                        var obj3 = $(obj2).children();
                                                        var obj4 = $(obj3).children();
                                                        var obj5 = $(obj4).children();
                                                        var obj6 = $(obj5).children()[3];
                                                        var obj7 = $(obj6).children()[1];
                                                        var line = $(obj7).children()[3];
                                                        var finalline = $(line).children()[0];
                                                        var forcircle = $(obj6).children()[2];
                                                        var circles = $(forcircle).children();
                                                        $(finalline).attr('stroke', '#058DC7');
                                                        $.each(circles, function (i, a) {
                                                            $(a).attr('fill', '#058DC7');
                                                        });
                                                    }, 3000);
                                                });

                                                setTimeout(function () {

                                                }, 10000);
                                            });

                                            $(document).ready(function () {

                                                var obj1 = $('#chart-container').children();
                                                var obj2 = $(obj1).children();
                                                var obj3 = $(obj2).children();
                                                var obj4 = $(obj3).children();
                                                var obj5 = $(obj4).children();
                                                var obj6 = $(obj5).children()[3];
                                                var obj7 = $(obj6).children()[1];
                                                var line = $(obj7).children()[3];
                                                var finalline = $(line).children()[0];
                                                var forcircle = $(obj6).children()[2];
                                                var circles = $(forcircle).children();
                                                $(finalline).attr('stroke', '#058DC7');
                                                $.each(circles, function (i, a) {
                                                    $(a).attr('fill', '#058DC7');
                                                });
                                            });
                                        </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>